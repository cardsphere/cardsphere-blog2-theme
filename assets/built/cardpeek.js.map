{"version":3,"sources":["cardpeek.js"],"names":["window","jQuery","$","cardpeek","selector","subselector","extraCheck","$cardpeekContainer","addClass","hide","$cardpeekBody","appendTo","$cardpeekImage","$cardpeekFooter","$cardpeekNav","show","$target","imageUrl","data","attr","text","href","clientRect","getBoundingClientRect","remainsBelow","height","bottom","remainsAbove","top","offset","css","left","click","on","e","target","hoverSupported","matchMedia","matches","sizeXs","stopPropagation","preventDefault"],"mappings":"AAAAA,OAAOC,OAAO,SAAUC,GA2GpBF,OAAOG,SAzGQ,SAAUC,EAAUC,EAAaC,GAE5C,IAAIC,EAAqBL,EAAE,UAAUM,SAAS,sBAAsBC,OAChEC,EAAgBR,EAAE,UAAUM,SAAS,iBAAiBG,SAASJ,GAC/DK,EAAiBV,EAAE,UAAUM,SAAS,kBAAkBG,SAASD,GACjEG,EAAkBX,EAAE,UAAUM,SAAS,mBAAmBG,SAASJ,GACnEO,EAAeZ,EAAE,QAAQM,SAAS,gCAAgCG,SAASE,GAC/EN,EAAmBI,SAAST,EAAE,SAEnB,SAAPa,EAAiBC,GACjB,IAAIC,EAAWD,EAAQE,KAAK,SAC5BN,EAAeO,KAAK,MAAO,IAC3BP,EAAeO,KAAK,MAAOF,GAC3BH,EAAaM,KAAK,qBAClB,IAAIC,EAAOL,EAAQG,KAAK,QACxBL,EAAaK,KAAK,OAAQE,GAEtBA,EACAP,EAAaC,OAEbD,EAAaL,OAGjB,IAAIa,EAAaN,EAAQ,GAAGO,wBACxBC,EAAetB,EAAEF,QAAQyB,SAAWH,EAAWI,OAAS,GACxDC,EAAeL,EAAWM,IAAM,GAEpC,GAAIJ,EAAe,KAAsBA,EAAfG,EAA6B,CAEnD,IAAIC,EAAMZ,EAAQa,SAASD,IAC3BrB,EAAmBuB,IAAI,CACnBC,KAAQf,EAAQa,SAASE,KAAO,KAChCH,IAAQA,EAAM,GAAK,IAAO,WAE3B,CAEH,IAAIF,EAASV,EAAQa,SAASD,IAAMZ,EAAQS,SAC5ClB,EAAmBuB,IAAI,CACnBC,KAAQf,EAAQa,SAASE,KAAO,KAChCH,IAAQF,EAAS,GAAM,OAK/BnB,EAAmBQ,OAIvBR,EAAmByB,MAAM,WACrBzB,EAAmBE,SAIvBP,EAAEE,GAAU6B,GAAG,QAAS5B,EAAa,SAAU6B,GAC3C,IAAIlB,EAAUd,EAAEgC,EAAEC,QAClB,IAAI7B,GAAeA,EAAWU,GAA9B,CAIA,IAAIoB,GAAkBpC,OAAOqC,WAAW,iBAAiBC,QACrDC,GAAUvC,OAAOqC,WAAW,sBAAsBC,QAClDF,IAAmBG,IAIvBL,EAAEM,kBACFN,EAAEO,iBACF1B,EAAKC,OAITd,EAAEE,GAAU6B,GAAG,aAAc5B,EAAa,SAAU6B,GAChD,IAAIlB,EAAUd,EAAEgC,EAAEC,QAClB,IAAI7B,GAAeA,EAAWU,GAA9B,CAIA,IAAIoB,GAAkBpC,OAAOqC,WAAW,iBAAiBC,QACrDC,GAAUvC,OAAOqC,WAAW,sBAAsBC,QACjDF,IAAkBG,GAIvBxB,EAAKC,MAGTd,EAAEE,GAAU6B,GAAG,aAAc5B,EAAa,SAAU6B,GAChD,IAAIlB,EAAUd,EAAEgC,EAAEC,QAClB,GAAI7B,IAAeA,EAAWU,GAC1B,OAAO,EAGX,IAAIoB,GAAkBpC,OAAOqC,WAAW,iBAAiBC,QACrDC,GAAUvC,OAAOqC,WAAW,sBAAsBC,QACjDF,IAAkBG,GAIvBhC,EAAmBE,SAGvBP,EAAEF,QAAQiC,GAAG,eAAgB,WACzB1B,EAAmBE","file":"cardpeek.js","sourcesContent":["window.jQuery(function ($) {\n\n    var cardpeek = function (selector, subselector, extraCheck) {\n\n        var $cardpeekContainer = $('<div/>').addClass('cardpeek-container').hide();\n        var $cardpeekBody = $('<div/>').addClass('cardpeek-body').appendTo($cardpeekContainer);\n        var $cardpeekImage = $('<img/>').addClass('cardpeek-image').appendTo($cardpeekBody);\n        var $cardpeekFooter = $('<div/>').addClass('cardpeek-footer').appendTo($cardpeekContainer);\n        var $cardpeekNav = $('<a/>').addClass('cardpeek-nav btn btn-default').appendTo($cardpeekFooter);\n        $cardpeekContainer.appendTo($('body'));\n\n        var show = function ($target) {\n            var imageUrl = $target.data('image');\n            $cardpeekImage.attr('src', '');\n            $cardpeekImage.attr('src', imageUrl);\n            $cardpeekNav.text('View Card Details');\n            var href = $target.attr('href');\n            $cardpeekNav.attr('href', href);\n\n            if (href) {\n                $cardpeekNav.show();\n            } else {\n                $cardpeekNav.hide();\n            }\n\n            var clientRect = $target[0].getBoundingClientRect();\n            var remainsBelow = $(window).height() - clientRect.bottom - 10;\n            var remainsAbove = clientRect.top - 10;\n\n            if (remainsBelow < 300 && remainsAbove > remainsBelow) {\n                // above\n                var top = $target.offset().top;\n                $cardpeekContainer.css({\n                    'left': $target.offset().left + 'px',\n                    'top': (top - 10 - 300) + 'px'\n                });\n            } else {\n                // below\n                var bottom = $target.offset().top + $target.height();\n                $cardpeekContainer.css({\n                    'left': $target.offset().left + 'px',\n                    'top': (bottom + 10) + 'px'\n                });\n            }\n\n\n            $cardpeekContainer.show();\n\n        }\n\n        $cardpeekContainer.click(function () {\n            $cardpeekContainer.hide();\n        });\n\n\n        $(selector).on('click', subselector, function (e) {\n            var $target = $(e.target);\n            if (extraCheck && !extraCheck($target)) {\n                return;\n            }\n\n            var hoverSupported = !window.matchMedia('(hover: none)').matches;\n            var sizeXs = !window.matchMedia('(min-width: 544px)').matches;\n            if (hoverSupported && !sizeXs) {\n                return;\n            }\n\n            e.stopPropagation();\n            e.preventDefault();\n            show($target);\n\n        });\n\n        $(selector).on('mouseenter', subselector, function (e) {\n            var $target = $(e.target);\n            if (extraCheck && !extraCheck($target)) {\n                return;\n            }\n\n            var hoverSupported = !window.matchMedia('(hover: none)').matches;\n            var sizeXs = !window.matchMedia('(min-width: 544px)').matches;\n            if (!hoverSupported || sizeXs) {\n                return;\n            }\n\n            show($target);\n        });\n\n        $(selector).on('mouseleave', subselector, function (e) {\n            var $target = $(e.target);\n            if (extraCheck && !extraCheck($target)) {\n                return true;\n            }\n\n            var hoverSupported = !window.matchMedia('(hover: none)').matches;\n            var sizeXs = !window.matchMedia('(min-width: 544px)').matches;\n            if (!hoverSupported || sizeXs) {\n                return;\n            }\n\n            $cardpeekContainer.hide();\n        });\n\n        $(window).on(\"beforeunload\", function () {\n            $cardpeekContainer.hide();\n        });\n    }\n    window.cardpeek = cardpeek;\n});"]}